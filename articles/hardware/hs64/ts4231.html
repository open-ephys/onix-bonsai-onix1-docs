<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Headstage 64 Ts4231 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Headstage 64 Ts4231 ">
      
      
      <link rel="icon" href="../../../favicon.png">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/open-ephys/bonsai-onix1-docs/blob/main/articles/hardware/hs64/ts4231.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo-light-mode.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="hs64_ts4231">
          <h1>Headstage 64 Ts4231</h1>





  
<p>The following excerpt from the Headstage 64 <a class="xref" href="overview.html">example workflow</a> demonstrates the Headstage 64's position
tracking capabilities.</p>
<div class="workflow"><p><img src="../../../workflows/hardware/hs64/ts4231.bonsai" alt="/workflows/hardware/hs64/ts4231.bonsai workflow"></p>
</div>
<p>The <a class="xref" href="../../../api/OpenEphys.Onix1.TS4231V1PositionData.html">TS4231V1PositionData</a> operator generates a sequence of
<a class="xref" href="../../../api/OpenEphys.Onix1.TS4231V1PositionDataFrame.html">TS4231V1PositionDataFrames</a>. A <code>TS4231V1PositionDataFrame</code> is emitted
when a receiver on the Headstage 64 captures a sequence of 12 optical signals from a pair of lighthouses which occurs at
30 Hz. Therefore, with no occlusions, the maximum achievable sample rate is 30 Hz per receiver. There are three
receivers on the Headstage 64, so <code>TS4231V1PositionData</code> can emit up to 3 <code>TS4231V1PositionDataFrames</code> in a single 30 Hz
sampling cycle. Of course, if occlusions cause receivers to miss optical signals, this rate will be reduced.</p>
<p>The <code>TS4231V1PositionData</code>'s <code>DeviceName</code> property is set to &quot;Headstage64/TS4231V1&quot;. This links the
<code>TS4231V1PositionData</code> operator to the corresponding configuration operator.</p>
<p>The <a class="xref" href="https://bonsai-rx.org/docs/api/Bonsai.IO.CsvWriter.html">CsvWriter</a> operator writes the <code>Clock</code>, and <code>Position</code>
members from the <code>TS4231V1PositionDataFrame</code> to a file with the following name format: <code>ts4231v1__&lt;filecount&gt;.csv</code>.
Because <code>CsvWriter</code> is a <em>sink</em> operator, its output sequence is equivalent to its input sequence. In other words, its
output is equivalent to <code>TS4231V1PositionData</code>'s output. Therefore, it's possible to use
<a class="xref" href="https://bonsai-rx.org/docs/api/Bonsai.Expressions.MemberSelectorBuilder.html">MemberSelector</a> operators on the
<code>CsvWriter</code> to select members from <code>TS4231V1PositionDataFrame</code>. This is most easily performed by clicking the relevant
members that appear by hovering over the &quot;Output&quot; option that appears in the context menu that appears after
right-clicking the <code>CsvWriter</code> node. The <a class="xref" href="../../../api/OpenEphys.Onix1.TS4231V1PositionDataFrame.html">Position</a> member is selected in
the workflow to help visualize the position data by double-clicking the node when the workflow is running</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/open-ephys/bonsai-onix1-docs/blob/main/articles/hardware/hs64/ts4231.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          &copy; 2024 Open Ephys and Contributors. Made with <a href="https://dotnet.github.io/docfx">docfx</a>
        </div>
      </div>
    </footer>
  </body>
</html>
